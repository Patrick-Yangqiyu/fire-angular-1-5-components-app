<div class="book">
  <form name="bookDetailForm" novalidate>
    <div>
      <span class="book__required">*</span> field is required
    </div>
    <div class="book__box">
      <h3 class="book__sub-title">
        Information
      </h3>
      <div class="book__field">
        <label>
          Title <span class="book__required">*</span>
        </label>
        <input
          type="text"
          name="title"
          length-check
          required="required"
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"

          ng-model="$ctrl.book.title">
      </div>
      <div class="book__field">
        <label>
          Call Number

        </label>
        <input
          type="text"
          name="call_number"
          length-check
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"
          ng-model="$ctrl.book.call_number">
      </div>
      <div class="book__field">
        <label>
          Publisher
        </label>
        <input
          type="text"
          name="Publisher"
          length-check
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"
          ng-model="$ctrl.book.publisher">
      </div>
      <div class="book__field">
        <label>
          Author
        </label>
        <input
          type="text"
          name="Author"
          length-check
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"
          ng-model="$ctrl.book.author">
      </div>
      <div class="book__field">
        <label>
          Bookphoto
        </label>
        <input type="file" accept="image/*" custom-on-change="$ctrl.image" />
      </div>
      <div class="bookphoto">
        <img style="width: 50%; height: auto" ng-src="{{$ctrl.book.photo_data.url}}">
      </div>
    </div>
    <div class="book__box book__box--no-margin">
      <h3 class="book__sub-title">
        Details
      </h3>
      <div class="book__field">
        <label>
          ISBN/ISSN
        </label>
        <input
          type="text"
          name="isbn"
          length-check
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"
          ng-model="$ctrl.book.isbn">
      </div>
      <div class="book__field">
        <label>
          Preview
        </label>
        <textarea
          name="preview"
          ng-change="$ctrl.updateBook();"
          ng-model-options="{
            'updateOn': 'default blur',
            'debounce': {
              'default': 250,
              'blur': 0
            }
          }"
          ng-model="$ctrl.book.preview"
          style="width: 100%; height: 280px; padding: 12px; font-size: 16px; resize: none">
        </textarea>
        <!--<input-->
          <!--type="text"-->
          <!--name="preview"-->
          <!--length-check-->
          <!--ng-change="$ctrl.updateBook();"-->
          <!--ng-model-options="{-->
            <!--'updateOn': 'default blur',-->
            <!--'debounce': {-->
              <!--'default': 250,-->
              <!--'blur': 0-->
            <!--}-->
          <!--}"-->
          <!--ng-model="$ctrl.book.preview">-->
      </div>
      <!--<div class="book__field">-->
        <!--<label>-->
          <!--Twitter-->
        <!--</label>-->
        <!--<input-->
          <!--type="text"-->
          <!--name="twitter"-->
          <!--length-check-->
          <!--ng-change="$ctrl.updateBook();"-->
          <!--ng-model-options="{-->
            <!--'updateOn': 'default blur',-->
            <!--'debounce': {-->
              <!--'default': 250,-->
              <!--'blur': 0-->
            <!--}-->
          <!--}"-->
          <!--ng-model="$ctrl.book.social.twitter">-->
      <!--</div>-->

    </div>
    <!--<book-tag-->
      <!--tag="$ctrl.book.tag"-->
      <!--on-change="$ctrl.tagChange($event);">-->
    <!--</book-tag>-->

    <div ng-if="$ctrl.isNewBook">
      <button
        class="book__action button"
        ng-disabled="bookDetailForm.$invalid"
        ng-click="$ctrl.saveBook();">
        Create book
      </button>
    </div>
    <div ng-if="!$ctrl.isNewBook">


      <button
        class="book__action button delete"
        ng-click="$ctrl.deleteBook();">
        Delete Book
      </button>
      &nbsp;
      <button
        class="book__action button "
        ng-click="$ctrl.updateBook();">
        Update Book
      </button>

    </div>

  </form>
</div>
